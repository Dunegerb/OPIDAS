:root {
    --secondary-text: #d9d9d9;
    --tertiary-text: #909090;
    --header-widget-bg: #151515;
    --dot-color-1: #dfdfdf;
    --dot-color-2: #a3a3a2;
    --dot-color-3: #676766;
    --dot-color-4: #2d2d2b;
    --timeline-line-color: #444;
}

body {
    display: flex; justify-content: center; align-items: flex-start; padding: 40px 20px;
    overflow-y: auto;
}

.main-container { width: 100%; max-width: 1280px; margin: 0 auto; }

header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 100px; position: relative; }
.user-profile { display: flex; align-items: center; gap: 15px; }
.user-profile img { width: 34px; height: 34px; border-radius: 50%; object-fit: cover; }
.user-info .welcome-text { font-size: 10px; color: var(--secondary-text); }
.user-info .username { font-size: 21px; font-weight: 500; color: var(--secondary-text); }
.logo { position: absolute; left: 50%; transform: translateX(-50%); width: 41px; }
.status-widget { background-color: var(--header-widget-bg); border-radius: 8px; padding: 7px; display: flex; align-items: center; gap: 15px; }
.status-widget .icon-container { background-color: var(--bg-main); width: 41px; height: 41px; border-radius: 5px; display: flex; justify-content: center; align-items: center; }
.status-widget .icon-container img { width: 21px; height: 19px; }
.progress-info { display: flex; flex-direction: column; gap: 5px; }
.progress-info .days-text { font-size: 13px; }
.progress-info .days-text span { color: var(--tertiary-text); }
.header-progress-bar { width: 116px; height: 9px; background-color: var(--progress-bar-bg); border-radius: 6px; }
.header-progress-fill { width: 78%; height: 100%; background-color: #eeeeeee8; border-radius: 6px; }
.header-buttons { display: flex; align-items: center; gap: 5px; }
.header-buttons img { width: 41px; height: 41px; cursor: pointer; }

.episodes-section { position: relative; padding-top: 50px; }
.timeline { position: absolute; top: -22px; left: 5%; right: 5%; width: 90%; height: 13px; display: flex; align-items: center; }
.timeline::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background-color: var(--timeline-line-color); transform: translateY(-50%); z-index: 1; }
.timeline-dots { position: relative; z-index: 2; width: 100%; display: flex; justify-content: space-between; }
.timeline-dot { width: 13px; height: 13px; border-radius: 50%; border: 2px solid var(--bg-main); }
.timeline-dot.dot-1 { background-color: var(--dot-color-1); }
.timeline-dot.dot-2 { background-color: var(--dot-color-2); }
.timeline-dot.dot-3 { background-color: var(--dot-color-3); }
.timeline-dot.dot-4 { background-color: var(--dot-color-4); }

.episodes-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 55px; }
.episode-card { cursor: pointer; }
.episode-card h3 { font-size: 21px; font-weight: 500; margin-bottom: 21px; }
.episode-card p { font-size: 13px; font-weight: 300; line-height: 1.3; height: 55px; margin-bottom: 25px; color: var(--secondary-text); }
.thumbnail-container { position: relative; border-radius: 8px; overflow: hidden; }
.thumbnail-container img { width: 100%; height: 333px; object-fit: cover; display: block; }
.episode-card.unwatched .thumbnail-container img { mix-blend-mode: luminosity; }
.episode-info-overlay { position: absolute; bottom: 20px; left: 20px; right: 20px; }
.episode-meta { display: flex; align-items: center; gap: 5px; font-size: 8px; margin-bottom: 10px; }
.episode-meta svg { width: 8px; height: 8px; }
.episode-progress-bar { width: 100%; height: 5px; background-color: #7a7a7a; border-radius: 2.5px; mix-blend-mode: difference; }
.episode-progress-fill { height: 100%; background-color: var(--text-primary); border-radius: 2.5px; width: 0%; }

/* --- Player Overlay --- */
#player-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; background-color: #000; display: flex; justify-content: center; align-items: center; }
#player-overlay.hidden { display: none; }
#player-overlay .video-container { position: relative; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
#player-overlay #video-player { width: 100%; height: 100%; object-fit: contain; }
#player-overlay .player-controls { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 0.3s; background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 60%, rgba(0,0,0,0.5) 100%); }
#player-overlay .video-container.user-active .player-controls, #player-overlay .video-container.paused .player-controls { opacity: 1; }
#player-overlay .top-controls { position: absolute; top: 0; left: 0; right: 0; display: flex; justify-content: space-between; align-items: center; padding: 2.5rem 3rem; }
#player-overlay .episode-title { font-size: 1.25rem; }
#player-overlay .top-right-nav { display: flex; align-items: center; gap: 25px; }
#player-overlay .top-right-nav .separator { width: 1px; height: 17px; background-color: #7a7a7a; }
#player-overlay .center-controls { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: flex; align-items: center; gap: 100px; }
#player-overlay .bottom-controls { position: absolute; bottom: 0; left: 0; right: 0; padding: 1.5rem 3rem 2.5rem 3rem; }
#player-overlay .player-progress-bar-container { width: 100%; height: 5px; background-color: rgba(122, 122, 122, 0.5); border-radius: 10px; cursor: pointer; }
#player-overlay .progress-bar-fill { height: 100%; background-color: #eeeeee; border-radius: 10px; width: 0%; }
#player-overlay .time-controls { display: flex; justify-content: space-between; align-items: center; margin-top: 1rem; }
#player-overlay .time-display { font-size: 13px; }
#player-overlay #duration { color: #7a7a7a; }
#player-overlay .bottom-right-nav { display: flex; align-items: center; gap: 15px; font-size: 13px; }

@media (max-width: 1200px) {
    .episodes-grid { grid-template-columns: repeat(2, 1fr); }
    .timeline { display: none; }
    .episodes-section { padding-top: 0; }
    .episode-card p { height: auto; }
}
@media (max-width: 768px) {
    body { padding: 20px; }
    header { flex-direction: column; gap: 20px; margin-bottom: 40px; }
    .logo { position: static; transform: none; order: -1; }
}
@media (max-width: 600px) {
    .episodes-grid { grid-template-columns: 1fr; }
}